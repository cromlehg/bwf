# BWF - BlockWit Web Framework
![BWF](logo.png "BWF")

### Упрощеная версия BWF для легковесных проектов
Фреймворк на базе PlayFramework/Scala. Основа для внутренних проектов команды BlockWit.
Проект в Телеграм - 
[@bwfgroup](https://t.me/bwfproject)

От основной версии отличается упрощенной системой прав и отсутсвием специфичного для
блоговых систем функционала.


Содержит минимальный набор кода необходимый для последующей кастомизации:
1. Все на bootstrap 4 
2. Есть админка и фронт
3. Есть регистрация/авторизация/система прав

При минимальных настройках система в принципе готова к использованию.

### Система разраничениия доступа СРД
СРД состоит из двух сущностей:
1. Разрешения - маркер доступа к операции (порсмотр, удаление, создание, изменение - CRUD) 
2. Роли - группа разрешений
Любой сущности могут назначаться как роли так и разрешения.

#### Модель в БД
БД состоит из таблиц: 
1. Роли
2. Разрешения
3. Назначения ролей на сущности
4. Назначения разрешений на сущности

##### Роли - roles
1. id
2. name - названиие согласно нотации, короткий текст, не может быть null
3. description - описание, может быть null

##### Разрешения - permissions
1. id
2. value - названиие согласно нотации, короткий текст, не может быть null
3. description - описание, может быть null

##### Назначения ролей на сущности - roles_to_targets
1. role_id
2. target_type - энумератор обозначений сущностей, на которые могут назначаться роли (в общем случае операции могут выполнять не только аккаунты)
3. target_id

##### Назначения разрешений на сущности - permissions_to_targets
1. role_id
2. target_type - энумератор обозначений сущностей, на которые могут назначаться роли (в общем случае операции могут выполнять не только аккаунты, но и на роли)
3. target_id

#### Реализация СРД для lightweight

##### Разрешения:
1. Все что касается администратора - ref.admin
2. Все что касается клиента - ref.client

##### Роли с разрешениями:
1. Администратор: 1,2
2. Клиент: 2

